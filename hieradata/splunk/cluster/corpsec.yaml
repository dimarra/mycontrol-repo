#
# This cluster configuration yaml supercedes setting configured in the roles configuration yaml.
# The setting indicated here are applied to all members nodes indicated with the cluster fact.
# 
#

# All variables in this cluster yaml file indicates the following:
# he common <name of parameter here> for members of the cluster

splunk::deployment_server: 'ip-172-31-6-6.ap-southeast-2.compute.internal:8089'
splunk::license_master: 'ip-172-31-10-144.ap-southeast-2.compute.internal:8089'
splunk::tcpout: 'ip-172-31-5-237.ap-southeast-2.compute.internal:9997'

splunk::sslcompatibility: intermediate
splunk::replication_port: 9887
splunk::pass4symmkey:  cluster_symmkey

#splunk::service:
#  enable: true
#  ensure: running
  
splunk::admin:
  fn: 'CorpSec Splunk Admin'
  email: corpsec@shelde.com
# use 'openssl passwd -1' to generate a hash   
  hash: '$1$l/4odBwP$fUuCqCL2FodmCb1WmYxAS0'


splunk::clustering:
  pass4symmkey:  corpsec_symmkey_cluster
  master_uri: 'ip-172-31-5-86.ap-southeast-2.compute.internal:8089'
  replication_factor:  1
  search_factor:  1
  cluster_label: corpsec_clustering_label   
# do not indicate the 'mode' in here.  set it in roles yaml.
 

splunk::searchpeers:
  - ip-172-31-5-237.ap-southeast-2.compute.internal
  
splunk::searchheads:
  - ip-172-31-5-225.ap-southeast-2.compute.internal

  
splunk::shclustering:
  pass4symmkey:  corpsec_symmkey_cluster
  master_uri: 'ip-172-31-5-86.ap-southeast-2.compute.internal:8089'
  replication_factor:  1
  search_factor:  1
  deployer: 'ip-172-31-0-121.ap-southeast-2.compute.internal:8089'
  cluster_label: corpsec_shcluster_label
  

# these setting require more testing
#splunk::splunk_home: /app/splunk_corpsec
#splunk::splunk_os_user: corpsecuser
#splunk::splunk_db_dir: /var/corpsec_db

splunk::auth:
  authtype: 'LDAP'
  ldap_binddn: 'myldap_binddn'
  ldap_binddnpassword: 'myldap_binddnpassword'
  ldap_groupbasedn: 'myldap_groupbasedn'
  ldap_sslenabled: 'myldap_sslenabled'
  ldap_host: 'myldap_host'
  ldap_userbasedn: 'myldap_userbasedn'
  saml_idptype: 'mysaml_idptype'
  saml_idpurl:  'mysaml_idpurl'
  
splunk::rolemap:  
  
  
#&clustering_attributes:
#  master_uri: 'https://ip-172-31-28-232.ap-southeast-2.compute.internal:8089'
#  replication_factor:  4
#  search_factor:  3
#  pass4symmkey:  whatever



